# 模块说明

详细规划每个模块的表结构（表名、类型、作用）

## 系统基础模块

### 实体表
- `t_system_config` - 系统配置表，存储系统级别的配置参数
- `t_system_file` - 文件表，存储阿里云OSS文件信息
- `t_system_script` - 脚本表，存储Java脚本代码和配置

### 日志记录表
- `t_system_operation_log` - 系统操作日志表，记录管理员操作日志
- `t_system_error_log` - 系统错误日志表，记录系统异常信息

## 用户模块

### 实体表
- `t_user_wechat_user` - 微信用户表，存储微信用户信息
- `t_user_admin` - 管理员表，存储管理员账户信息
- `t_user_user_profile` - 用户资料表，存储用户扩展信息
- `t_user_address` - 用户地址表，存储用户收货地址

### 日志记录表
- `t_user_login_log` - 用户登录日志表，记录用户登录行为
- `t_user_admin_operation_log` - 管理员操作日志表，记录管理员操作历史

## 文章模块

### 实体表
- `t_article_article` - 文章表，存储文章内容和信息
- `t_article_category` - 文章分类表，存储文章分类信息（通过category_code进行KEY值控制）
- `t_article_tag` - 文章标签表，存储文章标签

### 关联关系表
- `t_article_article_tag_rel` - 文章标签关联表，关联文章和标签

### 冗余数据表
- `t_article_article_stats_cache` - 文章统计缓存表，缓存文章阅读数、点赞数等

### 日志记录表
- `t_article_like_log` - 文章点赞日志表，记录用户点赞行为

## 商品模块

### 实体表
- `t_product_product` - 商品表，存储商品基本信息（支持实体商品和线下优惠券/消费券）
- `t_product_sku` - 商品SKU表，存储商品规格信息
- `t_product_category` - 商品分类表，存储商品分类
- `t_product_supplier` - 商品供应商表，存储供应商信息

### 冗余数据表
- `t_product_stock_cache` - 商品库存缓存表，缓存实时库存信息
- `t_product_price_cache` - 商品价格缓存表，缓存价格信息
- `t_product_sales_cache` - 商品销量缓存表，缓存销售统计

### 日志记录表
- `t_product_stock_in_out_log` - 商品进出库日志表，记录库存变更
- `t_product_price_change_log` - 商品价格变更日志表

## 用户积分模块

### 实体表
- `t_points_user_points` - 用户积分账户表，存储用户当前积分余额

### 冗余数据表
- `t_points_points_stats_cache` - 积分统计缓存表，缓存用户积分统计信息

### 日志记录表
- `t_points_earn_log` - 积分获得日志表，记录积分增加记录
- `t_points_consume_log` - 积分消费日志表，记录积分消费记录
- `t_points_expire_log` - 积分过期日志表，记录积分过期记录

## 订单模块

### 实体表
- `t_order_order` - 订单表，存储订单基本信息
- `t_order_payment` - 支付记录表，存储支付信息
- `t_order_refund` - 退款申请表，存储退款信息
- `t_order_pickup_record` - 订单领取记录表，记录线下领取信息和具体领取的商品明细 - 领取要有对应领取了那些商品

### 关联关系表
- `t_order_order_item_rel` - 订单商品关联表，存储订单商品明细
- `t_order_pickup_item_rel` - 领取商品关联表，记录每次领取具体包含哪些商品明细

### 日志记录表
- `t_order_status_change_log` - 订单状态变更日志表
- `t_order_payment_log` - 订单支付日志表
- `t_order_refund_log` - 订单退款日志表
- `t_order_pickup_log` - 订单领取日志表

## 推广员模块

### 实体表
- `t_promoter_promoter` - 推广员表，存储推广员基本信息
- `t_promoter_commission_rule` - 佣金规则表，存储佣金计算规则
- `t_promoter_withdraw` - 佣金提现申请表，存储提现申请

### 关联关系表
- `t_promoter_user_promoter_rel` - 用户推广员关联表
- `t_promoter_promoter_downline_rel` - 推广员下线关联表

### 日志记录表
- `t_promoter_commission_log` - 佣金产生日志表，记录佣金产生记录
- `t_promoter_withdraw_log` - 佣金提现日志表，记录提现操作

## 积分商城模块

### 实体表
- `t_mall_mall_product` - 商城商品表，存储商城中的商品信息（支持实体商品和虚拟商品）
- `t_mall_exchange_limit` - 兑换限制表，定义限时兑换规则

### 日志记录表
- `t_mall_exchange_log` - 积分兑换日志表，记录用户兑换记录

## 盲盒模块

### 实体表
- `t_box_blind_box_template` - 盲盒组模板表，定义盲盒组的基本信息和规则
- `t_box_template_item` - 盲盒组模板物品表，定义每个SKU或积分的配置（支持商品SKU和积分奖励）
- `t_box_group_instance` - 盲盒组实例表，代表具体的一组盲盒（按时间标识分组）
- `t_box_user_gift_record` - 用户盲盒赠送记录表，记录用户对盲盒组的赠送情况（每条记录代表用户在一个实例大组里的抽取情况）
- `t_box_blind_box_instance` - 盲盒实例表，存储具体的单个盲盒信息
- `t_box_draw_record` - 盲盒抽奖记录表，记录抽奖过程和结果

### 关联关系表
- `t_box_instance_template_rel` - 盲盒实例模板关联表，关联盲盒实例和模板物品
- `t_box_instance_gift_rel` - 盲盒实例赠送关联表，直接关联盲盒实例和用户赠送记录

### 冗余数据表
- `t_box_group_stats_cache` - 盲盒组统计缓存表，缓存盲盒组的使用统计
- `t_box_user_stats_cache` - 用户盲盒统计缓存表，缓存用户抽奖统计

### 日志记录表
- `t_box_group_create_log` - 盲盒组创建日志表，记录盲盒组实例的创建
- `t_box_gift_log` - 盲盒赠送日志表，记录用户赠送记录的变化
- `t_box_draw_log` - 盲盒抽奖日志表，记录抽奖操作
- `t_box_receive_log` - 盲盒领取日志表，记录用户领取盲盒的操作